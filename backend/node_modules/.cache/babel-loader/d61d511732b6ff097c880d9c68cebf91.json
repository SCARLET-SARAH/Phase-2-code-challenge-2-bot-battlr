{"ast":null,"code":"import React from\"react\";import BotsCollection from'./BotCollection';import YourBotArmy from'./YourBotArmy';import BotSpecs from'./BotSpecs';import BotSearch from'./BotSearch';import Filter from'./Filter';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";class BotsPage extends React.Component{constructor(){super();this.setBots=bots=>{return bots.map(bot=>{bot.owned=false;return bot;});};this.clickBot=bot=>{this.setState({selectBot:bot});};this.addBot=selectBot=>{let x=this.state.allBots.map(bot=>{if(bot.id===selectBot.id){bot.owned=!bot.owned;return bot;}else{return bot;}});this.setState({allBots:x});};this.filterFreeBots=()=>{let freeBots=[];this.state.allBots.map(bot=>{if(bot.owned===false){freeBots.push(bot);}});if(this.state.filter!=='All'){freeBots=freeBots.filter(bot=>bot.bot_class==this.state.filter);}if(this.state.query){freeBots=freeBots.filter(bot=>bot.name.toLowerCase().includes(this.state.query.toLowerCase()));}return freeBots;};this.filterOwnedBots=()=>{let ownedBots=[];this.state.allBots.map(bot=>{if(bot.owned===true){ownedBots.push(bot);}});let filtered=ownedBots.filter(bot=>{return bot.name.toLowerCase().includes(this.state.query.toLowerCase());});return filtered;};this.handleClear=()=>{this.setState({query:''});};this.handleChange=query=>{this.setState({query:query});};this.clearSpec=()=>{this.setState({selectBot:undefined});};this.filterChange=value=>{this.setState({filter:value});};this.state={allBots:[],selectBot:undefined,query:'',filter:'All'};}componentDidMount(){fetch(' http://localhost:8002/bots').then(res=>res.json()).then(bots=>this.setBots(bots)).then(bots=>this.setState({allBots:bots}));}render(){console.log(this.state);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(BotSearch,{handleClear:this.handleClear,handleChange:this.handleChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Filter,{filterChange:this.filterChange}),/*#__PURE__*/_jsx(YourBotArmy,{bots:this.filterOwnedBots(),addBot:this.clickBot}),/*#__PURE__*/_jsx(\"br\",{}),this.state.selectBot?/*#__PURE__*/_jsx(BotSpecs,{bot:this.state.selectBot,clearSpec:this.clearSpec,addBot:this.addBot}):/*#__PURE__*/_jsx(BotsCollection,{bots:this.filterFreeBots(),addBot:this.clickBot})]});}}export default BotsPage;","map":{"version":3,"names":["React","BotsCollection","YourBotArmy","BotSpecs","BotSearch","Filter","jsx","_jsx","jsxs","_jsxs","BotsPage","Component","constructor","setBots","bots","map","bot","owned","clickBot","setState","selectBot","addBot","x","state","allBots","id","filterFreeBots","freeBots","push","filter","bot_class","query","name","toLowerCase","includes","filterOwnedBots","ownedBots","filtered","handleClear","handleChange","clearSpec","undefined","filterChange","value","componentDidMount","fetch","then","res","json","render","console","log","children"],"sources":["/home/brian/Downloads/Challenge-2-Bot-Battlr-021023/Challenge-2-Bot-Battlr/code-challenge/src/components/BotsPage.js"],"sourcesContent":["import React from \"react\";\nimport BotsCollection from './BotCollection'\nimport YourBotArmy from './YourBotArmy'\nimport BotSpecs from './BotSpecs'\nimport BotSearch from './BotSearch'\nimport Filter from './Filter'\n\nclass BotsPage extends React.Component {\n  constructor(){\n    super()\n    this.state = {\n      allBots: [],\n      selectBot: undefined,\n      query: '',\n      filter: 'All'\n    }\n  }\n\n  componentDidMount(){\n    fetch(' http://localhost:8002/bots')\n    .then(res => res.json())\n    .then(bots => this.setBots(bots))\n      .then(bots => this.setState({\n        allBots: bots\n      }))\n  }\n\n  setBots = (bots) => {\n    return bots.map(bot => {\n      bot.owned = false\n      return bot\n    })\n  }\n\n  clickBot = (bot) => {\n    this.setState({\n      selectBot: bot\n    })\n  }\n\n  addBot = (selectBot) => {\n    let x = this.state.allBots.map(bot => {\n      if(bot.id === selectBot.id){\n        bot.owned = !bot.owned\n        return bot\n      }else {\n        return bot\n      }\n    })\n    this.setState({\n      allBots: x\n    })\n  }\n\n  filterFreeBots = () => {\n    let freeBots = []\n    this.state.allBots.map(bot => {\n      if(bot.owned === false){\n        freeBots.push(bot)\n      }\n    })\n    if(this.state.filter !== 'All'){\n      freeBots = freeBots.filter(bot => \n        bot.bot_class == this.state.filter\n      )\n    }\n    if(this.state.query){\n      freeBots = freeBots.filter(bot=> \n        bot.name.toLowerCase().includes(this.state.query.toLowerCase())\n      )\n    }\n    return freeBots\n  }\n\n  filterOwnedBots = () => {\n    let ownedBots = []\n    this.state.allBots.map(bot => {\n      if(bot.owned === true){\n        ownedBots.push(bot)\n      }\n    })\n    let filtered = ownedBots.filter(bot=> {\n      return bot.name.toLowerCase().includes(this.state.query.toLowerCase())\n    })\n    return filtered\n  }\n\n  handleClear = () => {\n    this.setState({\n      query: ''\n    })\n  }\n\n  handleChange = (query) => {\n    this.setState({\n      query: query\n    })\n  }\n\n  clearSpec = () => {\n    this.setState({\n      selectBot: undefined\n    })\n  }\n\n  filterChange = (value) => {\n    this.setState({\n      filter: value\n    })\n  }\n\n  \n  render() {\n    console.log(this.state)\n    return (\n      <div>\n        <BotSearch handleClear={this.handleClear} handleChange={this.handleChange}/>\n        <br></br>\n        <Filter filterChange={this.filterChange}/>\n        <YourBotArmy bots={this.filterOwnedBots()} addBot={this.clickBot}/>\n        <br></br>\n        {this.state.selectBot ? <BotSpecs bot={this.state.selectBot} clearSpec={this.clearSpec} addBot={this.addBot} />: \n          <BotsCollection bots={this.filterFreeBots()} addBot={this.clickBot}/>}\n      </div>\n    );\n  }\n\n}\n\nexport default BotsPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}